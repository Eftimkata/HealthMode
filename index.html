<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>HealthMode â€“ Daily Tracker</title>
  <meta name="description" content="Healthy lifestyle tracker for water, distance, weight and custom habits." />
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body data-theme="dark">
  <header class="app-header">
    <div class="app-header-top">
      <div class="theme-toggle" aria-label="Appearance">
        <button type="button" class="theme-toggle-btn" data-theme-choice="light">Light</button>
        <button type="button" class="theme-toggle-btn is-active" data-theme-choice="dark">Dark</button>
      </div>
    </div>
  </header>

  <main class="app-main">
    <section class="activity-rings" aria-label="Today summary">
      <div class="activity-rings-inner">
        <svg class="activity-rings-svg" viewBox="0 0 176 176" aria-hidden="true">
          <g transform="rotate(-90 88 88)">
            <circle class="ring-bg ring-bg--distance" cx="88" cy="88" r="79" />
            <circle class="ring-fg ring-fg--distance" cx="88" cy="88" r="79" id="ring-distance" />

            <circle class="ring-bg ring-bg--water" cx="88" cy="88" r="62" />
            <circle class="ring-fg ring-fg--water" cx="88" cy="88" r="62" id="ring-water" />

            <circle class="ring-bg ring-bg--custom" cx="88" cy="88" r="44" id="ring-custom-bg" />
            <circle class="ring-fg ring-fg--custom" cx="88" cy="88" r="44" id="ring-custom" />
          </g>
        </svg>
        <div class="activity-rings-text">
          <div class="ring-row ring-row--distance" id="ring-distance-text"></div>
          <div class="ring-row ring-row--water" id="ring-water-text"></div>
          <div class="ring-row ring-row--custom" id="ring-custom-text"></div>
        </div>
      </div>
    </section>

    <!-- Main screen (Home) -->
    <section id="screen-main" class="screen screen--active" aria-label="Main menu">
      <section class="card strava-card" aria-label="Strava connection">
        <h2 class="strava-title">Strava</h2>
        <a href="https://www.strava.com/oauth/authorize?client_id=192113&response_type=code&redirect_uri=https%3A%2F%2Fhealth-mode.netlify.app%2F&approval_prompt=auto&scope=activity:read,activity:write" style=" display: inline-flex; align-items: center; justify-content: center; padding: 0.85rem 1.6rem; border-radius: 999px; background-color: #22c55e; color: #ffffff; font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; font-size: 0.95rem; font-weight: 600; text-decoration: none; box-shadow: 0 8px 18px rgba(22, 163, 74, 0.35); transition: transform 0.12s ease-out, box-shadow 0.12s ease-out, background-color 0.12s ease-out; -webkit-tap-highlight-color: transparent;" onclick="this.style.transform='scale(0.97)'; this.style.boxShadow='0 4px 10px rgba(22, 163, 74, 0.4)';" onmouseup="this.style.transform='scale(1)'; this.style.boxShadow='0 8px 18px rgba(22, 163, 74, 0.35)';" ontouchend="this.style.transform='scale(1)'; this.style.boxShadow='0 8px 18px rgba(22, 163, 74, 0.35)';">
  Connect with Strava
</a>
        <div id="strava-details" class="strava-details" hidden>
          <p class="strava-description">
            Connect your Strava account to import your distance automatically. Your personal
            API token is stored only on this device.
          </p>
          <p id="strava-status" class="strava-status"></p>
        </div>
      </section>
    </section>

    <!-- Water tracker -->
    <section id="screen-water" class="screen" aria-label="Water tracker">
      <header class="screen-header">
        <button type="button" class="back-button" data-go-screen="main">Main menu</button>
        <h2>Water</h2>
      </header>

      <section class="card" aria-labelledby="water-heading">
        <div class="card-header">
          <h3 id="water-heading">Daily water</h3>
          <span class="card-unit">ml</span>
        </div>
        <div class="card-body">
          <label class="field">
            <span>Goal</span>
            <input type="number" id="water-goal" min="0" step="50" />
          </label>
          <label class="field">
            <span>Today</span>
            <input type="number" id="water-today" min="0" step="50" />
          </label>
          <div class="quick-buttons" aria-label="Quick add water">
            <button type="button" data-add-water="250">+250</button>
            <button type="button" data-add-water="500">+500</button>
          </div>
          <div class="progress" aria-hidden="true">
            <div class="progress-fill" id="water-progress"></div>
          </div>
          <button type="button" id="water-reset" class="link-button">Reset today</button>
        </div>
      </section>

      <section class="card calendar-card" aria-label="Water calendar">
        <div class="card-header">
          <h3>Water calendar</h3>
        </div>
        <p class="card-helper">A day gets a check when you hit your goal.</p>
        <div class="calendar" id="water-calendar">
          <div class="calendar-header">
            <span class="calendar-title" id="water-calendar-title"></span>
          </div>
          <div class="calendar-grid" id="water-calendar-grid"></div>
        </div>
      </section>
    </section>

    <!-- Distance tracker -->
    <section id="screen-distance" class="screen" aria-label="Distance tracker">
      <header class="screen-header">
        <button type="button" class="back-button" data-go-screen="main">Main menu</button>
        <h2>Distance</h2>
      </header>

      <section class="card" aria-labelledby="distance-heading">
        <div class="card-header">
          <h3 id="distance-heading">Daily distance</h3>
          <span class="card-unit">km</span>
        </div>
        <div class="card-body">
          <label class="field">
            <span>Goal</span>
            <input type="number" id="distance-goal" min="0" step="0.1" />
          </label>
          <label class="field">
            <span>Today</span>
            <input type="number" id="distance-today" min="0" step="0.1" />
          </label>
          <div class="quick-buttons" aria-label="Quick add distance">
            <button type="button" data-add-distance="0.5">+0.5</button>
            <button type="button" data-add-distance="1">+1</button>
          </div>
          <div class="progress" aria-hidden="true">
            <div class="progress-fill" id="distance-progress"></div>
          </div>
          <button type="button" id="distance-reset" class="link-button">Reset today</button>
        </div>
      </section>

      <section class="card calendar-card" aria-label="Distance calendar">
        <div class="card-header">
          <h3>Distance calendar</h3>
        </div>
        <p class="card-helper">A day gets a check when you hit your goal.</p>
        <div class="calendar" id="distance-calendar">
          <div class="calendar-header">
            <span class="calendar-title" id="distance-calendar-title"></span>
          </div>
          <div class="calendar-grid" id="distance-calendar-grid"></div>
        </div>
      </section>
    </section>

    <!-- Weight loss tracker -->
    <section id="screen-weight" class="screen" aria-label="Weight loss tracker">
      <header class="screen-header">
        <button type="button" class="back-button" data-go-screen="main">Main menu</button>
        <h2>Weight loss</h2>
      </header>

      <section class="card" aria-label="Weekly weight log">
        <div class="card-header">
          <h3>Weekly log</h3>
          <span class="card-unit">kg</span>
        </div>
        <div class="card-body weight-grid">
          <div class="weight-row weight-row--header">
            <span>Week</span>
            <span>Weight</span>
          </div>
          <div id="weight-weeks"></div>
        </div>
        <p class="card-helper">Use one row per week. You can overwrite values anytime.</p>
      </section>
    </section>

    <!-- Custom trackers -->
    <section id="screen-custom" class="screen" aria-label="Custom trackers">
      <header class="screen-header">
        <button type="button" class="back-button" data-go-screen="main">Main menu</button>
        <h2>Custom habits</h2>
      </header>

      <section class="card" aria-label="Create custom tracker">
        <div class="card-header">
          <h3>Create a tracker</h3>
        </div>
        <div class="card-body">
          <div class="field-group">
            <label class="field">
              <span>Name</span>
              <input type="text" id="custom-name" maxlength="32" placeholder="Walked up stairs" />
            </label>
            <label class="field">
              <span>Unit</span>
              <input type="text" id="custom-unit" maxlength="16" placeholder="stairs" />
            </label>
            <label class="field">
              <span>Goal</span>
              <input type="number" id="custom-goal" min="0" step="1" />
            </label>
            <label class="field">
              <span>Calendar</span>
              <select id="custom-mode">
                <option value="daily">Daily calendar</option>
                <option value="weekly">Weekly view</option>
              </select>
            </label>
          </div>
          <button type="button" id="custom-add" class="primary-button">Add tracker</button>
        </div>
      </section>

      <section class="card" aria-label="Your custom trackers">
        <div class="card-header">
          <h3>Your trackers</h3>
        </div>
        <div class="card-body">
          <div id="custom-trackers"></div>
          <p class="card-helper" id="custom-empty-helper">No custom trackers yet.</p>
        </div>
      </section>
    </section>
  </main>

  <section class="brand-bar" aria-label="App title">
    <div>
      <div class="brand-title">Health Mode</div>
      <p class="brand-subtitle">Light, simple tracking for everyday habits</p>
    </div>
  </section>

  <nav class="bottom-carousel" aria-label="Section switcher">
    <div class="bottom-carousel-inner">
      <div class="bottom-carousel-pill" style="--active-index: 0">
        <div class="bottom-carousel-indicator"></div>

        <button type="button" class="bottom-item bottom-item--home is-active" data-go-screen="main" data-index="0">
          <span class="bottom-icon bottom-icon--home" aria-label="Home">
            <i class="fa-solid fa-house"></i>
          </span>
        </button>

        <button type="button" class="bottom-item bottom-item--water" data-go-screen="water" data-index="1">
          <span class="bottom-icon bottom-icon--water" aria-label="Water">
            <i class="fa-solid fa-glass-water"></i>
          </span>
        </button>

        <button type="button" class="bottom-item bottom-item--distance" data-go-screen="distance" data-index="2">
          <span class="bottom-icon bottom-icon--distance" aria-label="Distance">
            <i class="fa-solid fa-person-walking"></i>
          </span>
        </button>

        <button type="button" class="bottom-item bottom-item--weight" data-go-screen="weight" data-index="3">
          <span class="bottom-icon bottom-icon--weight" aria-label="Weight loss">
            <i class="fa-solid fa-weight-scale"></i>
          </span>
        </button>

        <button type="button" class="bottom-item bottom-item--custom" data-go-screen="custom" data-index="4">
          <span class="bottom-icon bottom-icon--custom" aria-label="Custom habits">
            <i class="fa-solid fa-hashtag"></i>
          </span>
        </button>
      </div>
    </div>
  </nav>

  <footer class="app-footer">
    <span class="footer-text">Data is stored only on this device.</span>
  </footer>

  <script src="app.js"></script>
</body>
</html>
